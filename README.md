#**Кој сака да биде милионер?**

<p align="center">
  <img src="http://zase.mk/wp-content/uploads/2013/11/Logo_of_Milioner.jpg">
</p>

Проектна задача по визуелно програмирање <br>
  Изработија: <br>
    - [**Давид Симеоновски**](https://github.com/Dekacc) <br>
    - [**Никола Танев**](https://github.com/tanevnik)
    
  ---
 
 
##1. Вовед

<b>„Кој сака да биде милионер?“</b> е интернационо и едно од најпознатите квиз ТВ шоуа во светот на кое натпреварувачите одговараат на најразлични прашања и целат кон освојување на милионската награда <b>$$$</b>. <br>
По пример од овој квиз, развиени се компјутерски, мобилни и веб апликации кои нудат забава, опуштање и проверување на знаењето од пространи теми.
<br>



##2. Начин на игра и правила

###2.1 Правила
Начинот на играње и правилата на овој квиз на сите ни се многу добро познати. <br> 
Играта се состои од 15 прашања со три загарантирани суми на 5-тото од 5.000ден и 10-тото прашање од 125.000ден и главната награда на 15-тото прашање од <b>4 МИЛИОНИ ДЕНАРИ</b>. <br>
Натпреварувачот одговара на секое прашање кое има по 4 понудени одговори од кои само еден е точен. За секој точен одговор, натпреварувачот ја добива сумата која ја носи прашањето и се искачува ниво повисоко до целта на 15-тото прашање. Доколку наптреварувачот одговори неточно на поставеното прашање, тој ја завршува играта и ја заработува последната загарантирана сума. Натпреварувачот има можност да се откаже од понатамошно играње и да замине со сумата која дотогаш ја има освоено.<br>

[50/50]: https://github.com/tanevnik/Millionaire/blob/master/Millionaire/Resources/_5050.png?raw=true "50/50"
[Повикај пријател]: https://github.com/tanevnik/Millionaire/blob/master/Millionaire/Resources/phone.png?raw=true "Повикај пријател"
[Прашај ја публиката]: https://github.com/tanevnik/Millionaire/blob/master/Millionaire/Resources/audience.png?raw=true "Прашај ја публиката"
[Промени го прашањето]: https://github.com/tanevnik/Millionaire/blob/master/Millionaire/Resources/_switch.png?raw=true "Промени го прашањето"

По пат може да ни помогнат 4 џокери:
* ![ff](https://github.com/tanevnik/Millionaire/blob/develop/Millionaire/Resources/_5050.png?raw=true "50/50") <br> <b>50/50</b> - системот отстранува 2 неточни одговори <br> <br>
* ![cf](https://github.com/tanevnik/Millionaire/blob/develop/Millionaire/Resources/phone.png?raw=true "Повикај пријател") <br> <b>Повикај пријател</b> - добивате 30 секунди телефонски повик на некој ваш познаник да ви помогне за прашањето <br> <br>
* ![au](https://github.com/tanevnik/Millionaire/blob/develop/Millionaire/Resources/audience.png?raw=true "Прашај ја публиката") <br> <b>Прашај ја публиката</b> - публиката со гласање се изјаснува за точниот одговор на прашањето <br> <br> 
* ![cq](https://github.com/tanevnik/Millionaire/blob/develop/Millionaire/Resources/_switch.png?raw=true "Промени го прашањето") <br> <b>Промени го прашањето</b> - замена на тековното прашање со ново прашање <br> 

###2.2 Нова игра
Новата игра се започнува едноставно со кликнување на копчето од главното мени за нова игра со почеток од прво прашање и овозможени сите 4 џокери.

![home](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/homeScreen.png?raw=true)  |  ![mane](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/mainScreen.png?raw=true)
:-------------------------:|:-------------------------:


###2.3 Одговарање на прашање
На прашањата се одговара едноставно со кликнување на еден од четирите понудени одговори и при тоа потребно е да се потврди дека тоа е конечниот одговор.

![home](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/selectAnswere.png?raw=true)


###2.4 Користење на џокери
Кога натпреварувачот е во ситуација да не го знае одговорот на прашањето, на располагање му се 4 џокери кои му нудат потенцијална помош за точно оговарање на прашањето.

50/50                      |  Прашај ја публиката
:-------------------------:|:-------------------------:
![home](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/fiftyFifty.png?raw=true)  |  ![mane](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/audiance.png?raw=true)
Системот на случаен начин отстранува 2 неточни одговори и остануваат само еден точен и еден неточен одговор | Публиката преку систем на гласање се изјаснува за тоа кој одговор смета дека е точен и резултатите му се прикажуваат на натпреварувачот

Повикај пријател           |  Промени прашање
:-------------------------:|:-------------------------:
![call](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/friend.png?raw=true)  |  ![switch](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/change.png?raw=true)
Натпреварувачот добива телефонско јавување на било кој познаник да му го постави тековното прашање и да побара помош од него | Тековното прашање се заменува со ново прашање

###2.5 Откажување
Во случај кога натпреварувачот не сака да оговара на даденото прашање, има можност да се откаже од играта и да си замине со дотогаш освоената сума на пари

![serender](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/serender1.png?raw=true)

Натпреварувачот треба да ја потврди негоавата одлука како конечна и да заврши со играта !

![serender](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/serender2.png?raw=true)



##3. Имплементација
Поголемиот дел од кодот на играта се наоѓа во двете главни класи View.cs и Model.cs, додека сите други класи се помошни компоненти со кои се служат овие две класи. Оваа игра е напишана следејќи го MVC концептот, така што сите визуелни елементи (front-end) се наоѓаат и  контролираат во класата View.cs, додека логиката на играта (back-end) се пресметува во класата Model.cs.

###3.1 Back-end логика
При започнување на нова игра, се креира објект од класата Model.cs преку кој се пресметува целата back-end логика на играта. Во оваа класа се чуваат информации за тековното прашање, состојбата на џокерите, точниот одговор, тековното ниво, освоената сума, итн. Исто така при секоја акција на играчот (пр. користење на џокер или одговарање на прашање) визуелниот контролер (View.cs класата) комуницира со објектот од Model.cs класата каде што се пресметуваат следните акции кои треба да се извршат во апликацијата.

####3.1.1 Прашања и нивниот приказ

Прашањата се централната точка во оваа игра. Базата на прашања е сместена во .txt фајл во кој прашањата се структурирани во одреден формат за нивно лесно читање. Има 15 групи на прашања сортирани по тежина и секоја група соодветствува на бројот на прикажаното прашање. 

```
0~Кога некој вели пардон, тој се...~извинува~поздравува~додворува~занесува
0~Што му расте на Пинокио кога лаже?~носот~ушите~опашката~вратот
0~Колку денови има во една недела?~7~6~5~8
0~Професионална должност на судијата е да дели...~правда~карти~храна~комплименти
0~Која боја најчесто се користи за висока температура?~црвена~сина~зелена~жолта
1~На кој планински венец наводно живее чудовиштето Јети?~Хималаите~Алпите~Андите~Кордилјерите
1~Т’га за југ е дело на~Константин Миладинов~Кочо Рацин~Јоаким Крчовски~Григор Прличев
1~Атеистите не веруваат во...~господ~пари~наука~политичари
```

Секоја линија од .txt фајлот на базата претставува едно прашање составено од:
  * Број на група на прашање
  * Текстот на прашањето
  * Понудените одговори (секогаш првиот е точниот одговор)

Елементите во прашањето се споени со знакот „~“ за нивна полесна сепарација.  

Функцијата generateNewQuestion од класата Model, на случаен начин чита едно прашање од базата за соодветното ниво до кое е стигнат натпреварувачот и на случаен начин ги распределува одговорите. Вака генерираното прашање, преку класата View се предава текстот и одговорите на прашањата до соодветните лабели за приказ во формата.

####3.1.2 Одговарање на прашање

Тековното прашање заедно со неговиот точен одговор се зачувани во моделот на моменталната игра. Кога натпреварувачот ќе кликне на еден од понудените одговори, се повикува tryAnswer функција која ќе провери дали кликнатиот одговор се совпаѓа со точниот одговор на тековното прашање.

```c#
public bool tryAnswer(int ans)
{
  int tmpCorrect = correct;
  if(ans == correct)
  {
    //correct answer
    level++;
    if(level < 15) generateNewQuestion();
    return true;
  }
  //incorrect answer
  return false;
}
```


####3.1.3 Имплементација на џокерите
<b>50/50</b><br>
Џокерот 50-50 отстранува два неточни одговори од прашањето оставајќи го точниот одговор и еден случајно одбран грешен одговор. Во оваа игра, овој џокер е имплементиран така што со класата Random генерираме случаен број од 0 до 2, со чија помош отстрануваме еден од трите грешни одговори, и потоа генерираме уште еден случаен број од 0 до 1 со чија помош го отстрануваме и вториот грешен одговор.

<b>Прашај ја публиката</b><br>
Џокерот прашај ја публиакта е исто така имплементиран со класата Random, така што за точниот одговор имаме некаква default вредност на пример 30% која го означува бројот на луѓе во публиката кои сигурно го знаат одговорот, и потоа останатите проценти ги генерираме со повикување на Random објектот се додека не стигнеме до 100% гласови. За да се симулира различно ниво на сигурност кај публиката, како што играчот одговара се повеќе прашања, и прашањата стануваат потешки, default вредноста за точниот одговор се намалува, и гласањето станува се послучајно и непредвидливо бидејќи публиката не е толку сигурна во одговорите.

<b>Повикај пријател</b><br>
Џокерот повикај пријател е имплементиран на сличен начин како прашај ја публиката. Пријателот има некој одреден процент да го знае прашањето, и со помош на Random класата се генерира број од 1 до 100 и се проверува со процентот на сигурност на пријателот. Исто како и кај публиката, бидејќи прашањата стануваат потешки во подоцнежните нивоа, процентот на сигурност на пријателот опаѓа и тој е посклон на грешки. 

<b>Промени го прашањето</b><br>
Џокерот за промена на прашање има многу едноставна имплеменетација - се повикува методот за генерирање на ново прашање. Треба да се внимава новогенерираното прашање да биде од истото ниво на прашање како и старото, и да се отстрани веројатноста дека може истото прашање повторно да се прикаже.

###3.2 Front-end логика
Поголемиот дел од кодот за контролирање на front-end логиката, односно контролирање на визуелните елементи се наоѓа во класата View.cs, но дел од елементите си имаат свои посебни класи како на пример диалог прозорите кои се појавуваат за време на играњето. Целиот визуелен приказ на играта е постигнат со манипулирање на веќе готовите компоненти од Windows forms како што се Panel, Label, PictureBox, итн. Интерфејсот на играта може да го поделиме на три поголеми делови: Image Area (горе лево и во средина), Money Panel (горе десно) и Answer Area (доле).

####3.2.1 Answer Area

<p align="center">
  <img src="https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/questionAndAnsweres.png?raw=true">
</p>

Делот со елементи за приказ на прашањето и одговорите е структурирано на следниот начин:
  1. PictureBox во кој е поставена слика за естетика врз која е поставена лабела во која се испишува текстот на прашањето
  ![question](https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/questionText.png?raw=true)
  2. За приказ на понудените одговори на прашањето користени се панели во која е поставена позадина врз која е поставена лабела во која се испишува текстот на одговорот.
  <p align="center">
    <img src="https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/answerePanel.png?raw=true">
  </p>

####3.2.2 Money Panel
<p align="center">
    <img src="https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/moneyPanle.png?raw=true">
</p>

Панелот за приказ на паричните суми и означување на моементалното прашање е структуриран така што наредени се 15 панели еден под друг, врз кои се поставени лабели со текст за редниот број, крукче кое означува дали прашањето е одговорено и сумата која ја носи прашањето. Означувањето на моементалното прашање се врши на тој начин што се менува само позадинската боја на соодветниот панел и промена на бојата на текстот за да има контраст. Со секој точен одговор се извршува означување на наредниот панел т.е панелот над него, стариот панел се враќа во првобитната состојба со таа разлика што сега се прикажува и малото крукче.

####3.2.3 Image Area
<p align="center">
    <img src="https://github.com/tanevnik/Millionaire/blob/develop/DocumentationImages/picturePanel.png?raw=true">
</p>

Во централниот дел на формата поставен е pictureBox во кој на временски интервал од 9 секунди се менуваат различни слики од студиото.
